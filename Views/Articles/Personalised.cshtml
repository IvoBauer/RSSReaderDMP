@model RSSReader.ViewModel.FeedArticlesCategoriesViewModel

@{
    ViewData["Title"] = "Articles";
}

<div class="container p-3">
    <div class="row pt-4">
        <div class="col-8">
            <h1>Personalised Articles</h1>
        </div>

        <div class="col-4 text-end" style="margin-top: 1em;">
            <form method="POST">
                <button asp-controller="Feeds" asp-action="ReloadAllFeeds" class="btn btn-primary"><i class="bi bi-bootstrap-reboot"></i> Reload Feeds</button>
            </form>
        </div>
    </div>
</div>

@* @foreach (var item in Model.FeedCategories)
{
    int number = Model.Articles.Where(e => e.Feed.FeedCategoryId == item.Id).Count();
    <p>@item.Name : @number</p>
}
 *@
<div class="container p-3">
    <div class="row">
        @{
            if (Model.Articles != null)
            {
                foreach (var item in Model.Articles)
                {
                    // <div style="margin-bottom: 2em; display: inline-block;">
                    //     <div class="col-9">                            
                    //         <h5>@Html.DisplayFor(modelItem => item.Title)</h5>
                    //         <p><span class="@item.Feed.FeedCategory.Color">@item.Feed.FeedCategory.Name</span> Published: @Html.DisplayFor(modelItem => item.PublishDate)</p>
                    //         <p>@Html.DisplayFor(modelItem => item.Summary)</p>
                    //         <a asp-controller="FeedCategoryRecord" asp-action="Index" asp-route-id="@item.Id" target="_blank" class="btn btn-primary"><i class="bi bi-book"></i> Read</a>
                    //     </div>
                    // </div>

                    <div class="card mb-3">
                        <div class="card-header">@Html.DisplayFor(modelItem => item.Feed.FeedCategory.Name) (@Html.DisplayFor(modelItem => item.PublishDate))</div>
                        <div class="card-body">
                            <h4 class="card-title">@Html.DisplayFor(modelItem => item.Title)</h4>                                                        
                            <p class="card-text">@Html.DisplayFor(modelItem => item.Summary)</p>
                            <div class="row">
                            <div class="col-10">  
                            </div>
                            <div class="col-2">
                                <a asp-controller="FeedCategoryRecord" asp-action="Index" asp-route-id="@item.Id" target="_blank" class="btn btn-primary"><i class="bi bi-book"></i> Read</a>
                            </div>                            
                            </div>                            
                        </div>
                    </div>
                    <br />
                }
            }
        }

    </div>
</div>


